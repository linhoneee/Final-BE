<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0">-->
<!--    <title>Spring Boot WebSocket Chat Application</title>-->
<!--</head>-->
<!--<body>-->
<!--<noscript>-->
<!--    <h2>Sorry! Your browser doesn't support Javascript</h2>-->
<!--</noscript>-->

<!--<div id="chat-page">-->
<!--    <div class="chat-container">-->
<!--        <div class="chat-header">-->
<!--            <h2>Chat demo</h2>-->
<!--        </div>-->
<!--        <div class="connecting">-->
<!--            Connecting...-->
<!--        </div>-->
<!--        <ul id="messageArea">-->
<!--            &lt;!&ndash; Old messages will be loaded here &ndash;&gt;-->
<!--        </ul>-->
<!--        <form id="messageForm" name="messageForm">-->
<!--            <div class="form-group">-->
<!--                <div class="input-group clearfix">-->
<!--                    <input type="text" id="message" placeholder="Type a message..." autocomplete="off"/>-->
<!--                    <button type="submit">Send</button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </form>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>-->
<!--<script>-->
<!--    var username = "linh";-->
<!--    var userId = 1; // Replace with actual user ID-->
<!--    var role = "USER"; // Replace with actual role-->
<!--    var roomId = 1; // Replace with actual room ID-->

<!--    var socket = new SockJS('/ws');-->
<!--    var stompClient = Stomp.over(socket);-->

<!--    stompClient.connect({}, function (frame) {-->
<!--        document.querySelector('.connecting').style.display = 'none';-->
<!--        document.getElementById('chat-page').style.display = 'block';-->

<!--        stompClient.subscribe('/topic/public', function (message) {-->
<!--            showMessage(JSON.parse(message.body));-->
<!--        });-->

<!--        // Fetch and display old messages-->
<!--        fetchOldMessages();-->
<!--    });-->

<!--    document.getElementById('messageForm').addEventListener('submit', function (event) {-->
<!--        event.preventDefault();-->
<!--        var messageContent = document.getElementById('message').value.trim();-->

<!--        if (messageContent && stompClient) {-->
<!--            var chatMessage = {-->
<!--                text: messageContent,-->
<!--                userId: userId,-->
<!--                username: username,-->
<!--                role: role,-->
<!--                roomId: roomId,-->
<!--                unRead: true,-->
<!--                createdAt: new Date().toISOString(),-->
<!--                updatedAt: new Date().toISOString()-->
<!--            };-->
<!--            stompClient.send("/app/chat.sendMessage", {}, JSON.stringify(chatMessage));-->
<!--            document.getElementById('message').value = '';-->
<!--        }-->
<!--    });-->

<!--    function showMessage(message) {-->
<!--        var messageElement = document.createElement('li');-->
<!--        if (message.type === 'JOIN') {-->
<!--            messageElement.textContent = message.username + ' joined!';-->
<!--        } else if (message.type === 'LEAVE') {-->
<!--            messageElement.textContent = message.username + ' left!';-->
<!--        } else {-->
<!--            var usernameElement = document.createElement('strong');-->
<!--            usernameElement.textContent = message.username;-->
<!--            messageElement.appendChild(usernameElement);-->

<!--            var textElement = document.createElement('p');-->
<!--            textElement.textContent = message.text;-->
<!--            messageElement.appendChild(textElement);-->
<!--        }-->

<!--        document.getElementById('messageArea').appendChild(messageElement);-->
<!--        document.getElementById('messageArea').scrollTop = document.getElementById('messageArea').scrollHeight;-->
<!--    }-->

<!--    function fetchOldMessages() {-->
<!--        fetch('/api/oldMessages') // Replace with your API endpoint-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->
<!--                data.forEach(message => {-->
<!--                    showMessage(message);-->
<!--                });-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error('Error fetching old messages:', error);-->
<!--            });-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
